@page
@model asp_presentaciones.Pages.IndexModel
@{
    ViewData["Titulo"] = "";
}
@{
    ViewData["OcultarCabecera"] = !Model.EstaLogueado;
}
@if (!Model.EstaLogueado)
{
    <div class="login-background">
    <div class="form-container"
             style="width: 60%; max-width: 600px; background: white; padding: 30px; border-radius: 20px;">
        <h1 align="center">
            Iniciar sesion
        </h1>

        <form method="POST">
            <div style="width:100%">
                <div class="form-group">
                    <label class="control-label">
                        Usuario:
                    </label>
                    <input onchange="keyUp(this)"
                           asp-for="@Model.Email"
                           class="form-control" />
                </div>
                <div class="form-group">
                    <label class="control-label">
                        Contraseña:
                    </label>
                    <input type="password"
                           onchange="keyUp(this)"
                           asp-for="@Model.Contrasenha"
                           class="form-control" />
                </div>
                    <!--Implementando un link para crear el usuario en caso de no tenerlo-->
                    <div style="margin-top: 15px; text-align:center;">
                        <a asp-page="/Ventanas/Usuarios"
                           asp-page-handler="BtNuevo">
                            Crear Usuario
                        </a>
                    </div>

                <div style="margin-top: 20px;">
                    <input type="submit"
                           value="Entrar"
                           style="width:45%"
                           asp-page-handler="BtEnter"
                           class="btn btn-default" />
                    <input type="submit"
                           value="Limpiar"
                           style="width:45%"
                           asp-page-handler="BtClean"
                           class="btn btn-default" />
                </div>
            </div>
        </form>
    </div>
    </div>
    @if (ViewData["Mensaje"] != null)
    {
        <center>
            <div class='popup'>
                <div class='pp_ms_inner'>
                    <div style='width:95%'>
                        <h2 align="left">
                            Mensaje
                        </h2>

                        <h4 align="left">
                            @ViewData["Mensaje"]
                        </h4>
                        <form>
                            <input type="submit"
                                   value="Cerrar"
                                   asp-page-handler="BtCerrar"
                                   class="btn btn-secondary" />
                        </form>
                    </div>
                </div>
            </div>
        </center>
    }

}
else
{
    <div class="welcome-page">
        <div class="welcomedesign-content">
            <h1 class="display-4">
                Bienvenido
            </h1>

            <form method="POST">
                <input type="submit"
                       value="Modificar usuario"
                       asp-page="/Ventanas/Usuarios"
                       asp-page-handler="BtGuardar"
                       class="btn btn-default" />

                <input type="submit"
                       value="Borrar usuario"
                       asp-page="/Ventanas/Usuarios"
                       asp-page-handler="BtBorrar"
                       class="btn btn-default" />

                <input type="submit"
                       value="Cerrar sesion"
                       asp-page-handler="BtClose"
                       class="btn btn-default" />
            </form>
        </div>
    </div>
}
